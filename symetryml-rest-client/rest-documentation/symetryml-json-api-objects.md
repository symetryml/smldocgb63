# SymetryML JSON API Objects

## HTTP Request Body for JSON Objects

You must pass a JSON request body that is appropriate for the service being called. The following table describes the supported request bodies. For a detailed description about these objects, see [Appendix A](appendix-a-json-data-structure-schema.md).

| JSON Data Structure  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **DataFrame**        | <p>Use when learning, forgetting, making predictions and modifying Encoder attributes values. DataFrame contains an attribute name list, an attribute types followed by an array of string. This organization is similar to a comma-separated value (CSV) file, where the first line usually is the header containing the name of each column (similar to the ‘attributes name list’ in our API), followed by <em>n</em> lines that each contain <em>x</em> values (where <em>x</em> usually is the same length as the number of columns in the header). <a href="appendix-a-json-data-structure-schema.md#dataframe-json">DataFrame</a> contains the following information:</p><p>* <strong>attributeNames</strong> = name of the attributes or features in the dataframe.</p><p>* <strong>attributeTypes</strong> = type of the attributes. See About Attribute Types.</p><p>* <strong>data</strong> = the actual data.</p> |
| **DSInfo**           | Information about data source.(see [DSInfo](appendix-a-json-data-structure-schema.md#dsinfo-json))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **DSListingRequest** | Information about listing directory and files from data sources.(see [DSListingRequest](appendix-a-json-data-structure-schema.md#dslistingrequest-json))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **MLContext**        | Used when building models and conducting data exploration requests. Use to specify attributes, target a request, and specify attribute(s) to use for Exploration requests.(see [MLContext](appendix-a-json-data-structure-schema.md#mlcontext-json))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **ExploreContext**   | List of MLContext that allows passing multiple MLContext when calling the REST exploration service. You can then request the same metric for various attributes or a combination of attributes.(see [ExploreContext](appendix-a-json-data-structure-schema.md#explorecontext-json))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### About Attribute Types

In SymetryML, It is possible to specify the type of the attributes in a [DataFrame](appendix-a-json-data-structure-schema.md#dataframe-json). Attribute type is specified using a single character for each of the attributes in the [DataFrame](appendix-a-json-data-structure-schema.md#dataframe-json). The following table describes the supported attribute types and their behaviour.

| Attribute Type | Description | Details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| -------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **C**          | Continuous  | Use this to specify numbers.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **B**          | Binary      | Only 1 and 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **S**          | String      | Any String is allowed. Usually used in conjunction with an Encoder in a project (see Encoder Object REST API). If a project does not contain an encoder attribute with this type will be ignored..                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **L**          | List        | String values separated by **\|**, e.g.\*\* \|a\|b\|c\*\*. Usually used in conjunction with an Encoder in a project (see Encoder Object REST API). If a project does not contain an encoder, an attribute with this type will be ignored.                                                                                                                                                                                                                                                                                                                                                                               |
| **T**          | Category    | Attribute of these type will see all their different values seen as a different category. Under the hood, SymetryML creates ‘dynamic’ attributes for each the different values. This is a feature in SymetryML since version 3.5 that provides automatic handling of categorical values – usually in the form of string - by creating attributes on the fly in the project to represent them. The attribute being created will have a ‘Binary’ type and its actual name will be of the following form Example: **flowertype$versicolor** Values will be normalized by: trimming the value and changing it to lowercase. |
| **X**          | Ignore      | Attributes with this type will be ignored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **-**          | None        | Internal Use Only                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

## HTTP Response for JSON Objects

All SymetryML REST requests return a JSON response. Depending on the service requested, the response can contain additional response(s) entity(ies) (see Additional Response Entities below). For a detailed description about these objects, see [Appendix A](appendix-a-json-data-structure-schema.md).

### About JSON Strict Syntax

As of Version 5.0 SymetryML does not fully conform to the JSON syntax. More specifically, we can return float value like `Infinity` that are not part of the JSON specification. You might need to change the configuration of your JSON parser in order to allow it to be more lenient.

#### Main SymetryML Response

| Object       | Description                                                                                                                                                                                                                                                                                                                          |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| JSONResponse | All SymetryML Rest APIs return this object. This object contains the HTTP return code, as well as contextual information if an error occurs. A JSONResponse can also contain additional response entities, depending on the service requested. (see [Response Entities](appendix-a-json-data-structure-schema.md#response-entities)) |

#### Additional Response Entities

| JSON Entity                                                                              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ---------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [**DataFrame**](appendix-a-json-data-structure-schema.md#dataframe-json)                 | DataFrame is returned as a response when using the SymetryML REST service on Data source files. For more information, see [DataFrame JSON.](appendix-a-json-data-structure-schema.md#dataframe-json)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**DSInfo**](appendix-a-json-data-structure-schema.md#dsinfo-json)                       | <p>This JSON contains information about a data source. Depending on the type of the data source, the information it contains will be different. Currently, the following data sources are supported:</p><p>- Amazon S3</p><p>- SFTP</p><p>- HTTP URL</p><p>- JDBC</p><p>- Spark RDD</p><p>- Amazon S3 with Spark processing</p><p>- Amazon RedShift</p><p>- Amazon EMR.</p><p>See <a href="appendix-a-json-data-structure-schema.md#dsinfo-json">DSInfo JSON</a> for more information.</p>                                                                                                                                                                                                                      |
| [**DSListingResponse**](appendix-a-json-data-structure-schema.md#dslistingresponse-json) | This data structure is used to return data source listing information. It allows to list ‘folders’ and ‘files’ from a data source repository. For more information, see [DSListingRequest](appendix-a-json-data-structure-schema.md#dslistingrequest-json).                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**JobInfo**](appendix-a-json-data-structure-schema.md#jobinfo)                          | <p>Returns the following information about a specific job on the server:</p><p>- Job type</p><p>- Job Owner</p><p>- Whether the job has started yet</p><p>- Is Job finished</p><p>- Starting date of a job that has started.</p><p>- Maximum size of a file to process.</p><p>- Current size of a file that was processed. It is possible to compute the percentage of completion of a job by computing <em>Current Size / Maximum Size</em>.</p><p>- In the case of a reducer model, the current size will reflect how much iteration were done so far.</p><p>For more information, see <a href="appendix-a-json-data-structure-schema.md#jobinfo">JobInfo</a>.</p>                                            |
| [**KSVDMap**](appendix-a-json-data-structure-schema.md#ksvdmap)                          | **Key String Value Double Map** Data structure is an array of map\<String, double>. For more information, see [KSVDMap](appendix-a-json-data-structure-schema.md#ksvdmap).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**KSVSMap**](appendix-a-json-data-structure-schema.md#ksvsmap)                          | **Key String Value Double Map** Data structure is an array of map\<String, double>. For more information, see [KSVDMap](appendix-a-json-data-structure-schema.md#ksvsmap).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**ModelInfo**](appendix-a-json-data-structure-schema.md#modelinfo)                      | <p>Contains information about a model. All models have at least the following information:</p><p>- Attribute Name</p><p>- Attribute name ID used internally in the model</p><p>- Attribute Types</p><p>- Target(s) name</p><p>- Target(s) name ID from the SymetryML project</p><p>- modelBuilt = number of models built to eventually create that model. This number is greater than 1 if the model is the result of the Reducer process.</p><p>- buildTime = overall processing time required to build the model. This value includes reduce time that might have built more than one models.</p><p>Depending on the type of model, more information can be stored in the form of key/value string pairs.</p> |
| [**ProjectInfo**](appendix-a-json-data-structure-schema.md#projectinfo)                  | <p>Holds the following information about a SymetryML project:</p><p>- ID of a SymetryML project</p><p>- List of attribute names</p><p>- List of attribute IDs</p><p>- List of attribute types:</p><p>- List of model IDs that belong to that SymetryML project</p><p>- Creation date</p><p>- Last modification date</p>                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ProjectInfoList**](appendix-a-json-data-structure-schema.md#projectinfolist)          | List of [ProjectInfo](appendix-a-json-data-structure-schema.md#projectinfo).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**StringList**](appendix-a-json-data-structure-schema.md#stringlist)                    | Holds an array of string. This response is returned when asking for the list of SymetryML project IDs that was saved on Amazon S3 or when asking for the list of current job ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**FederationInfo**](appendix-a-json-data-structure-schema.md#federationinfo)            | Hold information about a federation. For more information consult the [Federation Learning API](federated-learning-api/).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**AwsInfo**](appendix-a-json-data-structure-schema.md#awsinfo)                          | Data Structure that contains information about SNS topics, SQS queues and SNS subscriptions for a given AWS user. Please consult the [Federated API ](federated-learning-api/#federated-learning-get-encrypted-federation-info)for more information.                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**DensityList**](appendix-a-json-data-structure-schema.md#density-list)                 | The data structure returned by the [Density](exploration-api.md#density-estimates) rest call.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

## REST Call HTTP Return Code

Every service request to the SymetryML REST API returns an HTTP response code and HTTP header information that is appropriate for the service called. The following table lists the HTTP return codes. These return codes can be returned by any REST request.

| HTTP Return Code              | Description                                                                                                                |
| ----------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| **200**                       | OK, no error                                                                                                               |
| **201**                       | CREATED, a resource was created successfully, for instance a project or data source.                                       |
| **202**                       | ACCEPTED, typically returned when an asynchronous REST call return successfully.                                           |
| **400**                       | BAD\_REQUEST, the request was improperly formatted or was rejected by SymetryML for containing invalid information.        |
| **401**                       | UNAUTHORIZED, the user's credentials were rejected by SymetryML.                                                           |
| **409**                       | CONFLICT, typically returned when trying to create an entity like a project or data source that already exists.            |
| **500 INTERNAL SERVER ERROR** | If an exception was raised while processing a request, this response contains information about the error that was raised. |
| **503 SERVICE NOT AVAILABLE** | The SymetryML REST web application is not available. View your server logs to troubleshoot the issue.                      |
